{
  "name": "RAGAgent",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -352,
        -96
      ],
      "id": "6e8b03e2-b6c9-47ba-8c3a-b30689dc7270",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "1IixlJXnQleAMULOULHP_bdgXa0cHoelR",
          "mode": "list",
          "cachedResultName": "BusinessDevelopmentFoundation (3).pdf",
          "cachedResultUrl": "https://drive.google.com/file/d/1IixlJXnQleAMULOULHP_bdgXa0cHoelR/view?usp=drivesdk"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -144,
        -96
      ],
      "id": "7bc7ca65-8e0f-4b72-acae-ff7cca7e9d3d",
      "name": "Download file",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "h59CgpMhjG1zD8Le",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "mode": "insert",
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "options": {
          "queryName": "match_documents"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.3,
      "position": [
        64,
        -96
      ],
      "id": "747ed8bd-c2c8-415c-8176-018b6bbc8216",
      "name": "Supabase Vector Store",
      "credentials": {
        "supabaseApi": {
          "id": "E91k0LoE1el2DlkH",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        -48,
        96
      ],
      "id": "10edcf76-1b15-4cf3-a407-0bba16fba4bf",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "ZghQgTSm3FToSlGI",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "dataType": "binary",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        208,
        112
      ],
      "id": "0a88d7f6-18d3-4c9e-b265-1be6fa524b4b",
      "name": "Default Data Loader"
    },
    {
      "parameters": {
        "public": true,
        "mode": "webhook",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        -480,
        -448
      ],
      "id": "a047dbc9-a8ac-41d8-98fc-20718fc5ea83",
      "name": "When chat message received",
      "webhookId": "3cf63438-ceef-47bc-91a8-eeb39232475c"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -256,
        -480
      ],
      "id": "3c0cc5ad-12b5-4083-873e-194b85c07d5b",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-3.5-turbo",
          "mode": "list",
          "cachedResultName": "gpt-3.5-turbo"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -400,
        -272
      ],
      "id": "b7e97ba7-9cca-4f44-af95-0bfd5c544824",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "ZghQgTSm3FToSlGI",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Retrieve answer for query from chat input",
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "topK": 2,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.3,
      "position": [
        80,
        -384
      ],
      "id": "93901c43-60b8-4e2e-82cf-5f22e8a03978",
      "name": "Supabase Vector Store1",
      "credentials": {
        "supabaseApi": {
          "id": "E91k0LoE1el2DlkH",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [
        -256,
        -272
      ],
      "id": "172a0cec-508f-48a8-99aa-ca74d947c5f1",
      "name": "Postgres Chat Memory",
      "credentials": {
        "postgres": {
          "id": "IKlBQUgrFh59RdOu",
          "name": "Postgres account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Download file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download file": {
      "main": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_embedding",
            "index": 0
          },
          {
            "node": "Supabase Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "040a6618-55be-4f8c-b946-0f9b7da9a6ac",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "47ced7fefb5fde9fdc884624b26e008f6672c2d303905738fb38ec25386deb27"
  },
  "id": "WSivDsFs43RHhTxo",
  "tags": []
}